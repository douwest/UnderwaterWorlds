[gd_scene load_steps=8 format=2]

[ext_resource path="res://assets/shaders/water.shader" type="Shader" id=1]
[ext_resource path="res://Camera/CameraController.gd" type="Script" id=3]
[ext_resource path="res://World.gd" type="Script" id=4]
[ext_resource path="res://ChunkManager.gd" type="Script" id=5]

[sub_resource type="ShaderMaterial" id=3]
shader = ExtResource( 1 )
shader_param/ramp = 2.0
shader_param/rippleFactor = 0.5
shader_param/tilling = 20.0
shader_param/met = 1.0
shader_param/rou = 0.1
shader_param/waterTint1 = Vector3( 0, 0.08, 0.04 )
shader_param/waterTint2 = Vector3( 0, 0.02, 0.02 )
shader_param/chromatic_aberration = false
shader_param/chromatic_aberration_level = 0.5

[sub_resource type="PlaneMesh" id=2]
material = SubResource( 3 )
size = Vector2( 1000, 1000 )

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1000, 1, 1000 )

[node name="World" type="Spatial"]
script = ExtResource( 4 )
__meta__ = {
"_edit_lock_": true
}

[node name="ChunkManager" type="Spatial" parent="."]
script = ExtResource( 5 )

[node name="WaterPlane" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 32, 0 )
visible = false

[node name="Mesh" type="MeshInstance" parent="WaterPlane"]
mesh = SubResource( 2 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="WaterPlane"]
shape = SubResource( 1 )

[node name="OriginPivot" type="Position3D" parent="."]
transform = Transform( 0.662434, 0, -0.7565, 0, 1, 0, 0.7565, 0, 0.662434, 0, 0, 0 )
script = ExtResource( 3 )
auto_rotate = true

[node name="Camera" type="Camera" parent="OriginPivot"]
transform = Transform( 1, 0, 0, 0, 0.766044, 0.642788, 0, -0.642788, 0.766044, 0, 45, 55 )
current = true
fov = 58.0

[node name="CloseUpCamera" type="Camera" parent="OriginPivot"]
transform = Transform( 0.99485, 0, 0, 0, 0.573576, 0.814933, 0, -0.819152, 0.570622, 1, 20, 20 )

[node name="SpawnLocation" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.19196, 5.55136, 15.9583 )

[node name="Control" type="Control" parent="."]
margin_right = 329.0
margin_bottom = 211.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SeedBox" type="HBoxContainer" parent="Control/VBoxContainer"]
margin_right = 329.0
margin_bottom = 16.0

[node name="Label" type="Label" parent="Control/VBoxContainer/SeedBox"]
margin_top = 1.0
margin_right = 162.0
margin_bottom = 15.0
size_flags_horizontal = 3
text = "Seed: 1"

[node name="Seed" type="HSlider" parent="Control/VBoxContainer/SeedBox"]
margin_left = 166.0
margin_right = 329.0
margin_bottom = 16.0
size_flags_horizontal = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LacunarityBox" type="HBoxContainer" parent="Control/VBoxContainer"]
margin_top = 20.0
margin_right = 329.0
margin_bottom = 36.0

[node name="Label" type="Label" parent="Control/VBoxContainer/LacunarityBox"]
margin_top = 1.0
margin_right = 162.0
margin_bottom = 15.0
size_flags_horizontal = 3
text = "Lacunarity: 2.0"

[node name="Lacunarity" type="HSlider" parent="Control/VBoxContainer/LacunarityBox"]
margin_left = 166.0
margin_right = 329.0
margin_bottom = 16.0
size_flags_horizontal = 3
max_value = 3.0
step = 0.05
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PeriodBox" type="HBoxContainer" parent="Control/VBoxContainer"]
margin_top = 40.0
margin_right = 329.0
margin_bottom = 56.0

[node name="Label" type="Label" parent="Control/VBoxContainer/PeriodBox"]
margin_top = 1.0
margin_right = 162.0
margin_bottom = 15.0
size_flags_horizontal = 3
text = "Frequency: 1"

[node name="Period" type="HSlider" parent="Control/VBoxContainer/PeriodBox"]
margin_left = 166.0
margin_right = 329.0
margin_bottom = 16.0
size_flags_horizontal = 3
max_value = 256.0
step = 8.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="OctavesBox" type="HBoxContainer" parent="Control/VBoxContainer"]
margin_top = 60.0
margin_right = 329.0
margin_bottom = 76.0

[node name="Label" type="Label" parent="Control/VBoxContainer/OctavesBox"]
margin_top = 1.0
margin_right = 162.0
margin_bottom = 15.0
size_flags_horizontal = 3
text = "Octaves: 1"

[node name="Octaves" type="HSlider" parent="Control/VBoxContainer/OctavesBox"]
margin_left = 166.0
margin_right = 329.0
margin_bottom = 16.0
size_flags_horizontal = 3
min_value = 1.0
value = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PersistenceBox" type="HBoxContainer" parent="Control/VBoxContainer"]
margin_top = 80.0
margin_right = 329.0
margin_bottom = 96.0

[node name="Label" type="Label" parent="Control/VBoxContainer/PersistenceBox"]
margin_top = 1.0
margin_right = 162.0
margin_bottom = 15.0
size_flags_horizontal = 3
text = "Persistence: 1"

[node name="Persistence" type="HSlider" parent="Control/VBoxContainer/PersistenceBox"]
margin_left = 166.0
margin_right = 329.0
margin_bottom = 16.0
size_flags_horizontal = 3
max_value = 10.0
step = 0.1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Rerender" type="Button" parent="Control/VBoxContainer"]
margin_top = 100.0
margin_right = 329.0
margin_bottom = 120.0
text = "Recalculate"
[connection signal="value_changed" from="Control/VBoxContainer/SeedBox/Seed" to="." method="_on_Seed_value_changed"]
[connection signal="value_changed" from="Control/VBoxContainer/LacunarityBox/Lacunarity" to="." method="_on_Lacunarity_value_changed"]
[connection signal="value_changed" from="Control/VBoxContainer/PeriodBox/Period" to="." method="_on_Period_value_changed"]
[connection signal="value_changed" from="Control/VBoxContainer/OctavesBox/Octaves" to="." method="_on_Octaves_value_changed"]
[connection signal="value_changed" from="Control/VBoxContainer/PersistenceBox/Persistence" to="." method="_on_Persistence_value_changed"]
[connection signal="pressed" from="Control/VBoxContainer/Rerender" to="." method="_on_Rerender_pressed"]
